<div class="container profile">
  <div class="col-md-8">
    <div class="panel-body">
    <div class="col-md-6">
        <img ng-src="{{ProfileCtrl.user.photo}}" class="img-circle center-block img-profile"/>
      </div>
      <div class="col-md-6 userInfo-table">
        <div ng-hide="ProfileCtrl.edit" class="table-user-information">
          <div>
            <span class="profile-info-labels">Username:</span>
            <p>{{ProfileCtrl.user.username}}</p>
          </div>
          <div>
            <span class="profile-info-labels">Display Name:</span>
            <p>{{ProfileCtrl.user.name}}</p>
          </div>
          <div>
            <span class="profile-info-labels">Email:</span>
            <p>{{ProfileCtrl.user.email}}</p>
          </div>
          <div>
            <span class="profile-info-labels">Blood Type:</span>
            <p>{{ProfileCtrl.user.bloodtype}}</p>
          </div>
          <div>
            <span class="profile-info-labels">Address:</span>
            <p>{{ProfileCtrl.user.address}}</p>
          </div>
        </div>
        <div>
          <button ng-hide="ProfileCtrl.edit" ng-click="ProfileCtrl.Edit()" class="profile-button btn">
            <span>Edit Info</span>
          </button>
          <div ng-show="ProfileCtrl.edit">
            <form ng-submit="ProfileCtrl.updateUser()"  class="simple-form profile-edit-form">
              <span>Display Name:</span>
              <input type="text" ng-model="ProfileCtrl.user.name" />
              <br />
              <span>E-mail:</span>
              <br />
              <input type="email" ng-model="ProfileCtrl.user.email" /><br />
              <span>Location:</span>
              <input type="text" id="address" ng-model="ProfileCtrl.user.address" name="address" ng-change="ProfileCtrl.getlatlong()"/>
              <br />
              <span>Blood Type:</span>
              <input type="text" ng-model="ProfileCtrl.user.bloodtype" />
              <br />
              <input type="submit" id="submit" value="Submit" class="btn profile-button"/>
            </form>
            <button ng-show="ProfileCtrl.edit" ng-click="ProfileCtrl.Edit()" class="profile-button btn">
              <span>Cancel Edit</span>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="panel-body panel-lower events">
      <h2>Upcoming</h2>
      <div class="event" ng-repeat="event in ProfileCtrl.user.events | filter:ProfileCtrl.upcoming">
        <img src="assests/heart.png" />
        <span>You have <a ng-href="#event/{{event.id}}">an appointment</a> to donoate blood at <a ng-href="#hospital/profile/{{event.hospital.id}}">{{event.hospital.name}}</a>.</span>
      </div>
    </div>
    <div class="panel-body panel-lower events">
      <h2>History</h2>
      <div class="event" ng-repeat="event in ProfileCtrl.user.events | filter:ProfileCtrl.past">
        <img src="assests/heart.png" />
        <span>You donated blood at <a ng-href="#hospital/profile/{{event.hospital.id}}">{{event.hospital.name}}</a>. Good job, you did it!</span>
      </div>
    </div>
  </div>
  <div class="col-md-4 center-block">
    <div class="connections">
      <div class="friends">
        <h4>Friends</h4>
        <div class="friend" ng-repeat="friend in ProfileCtrl.user.friends">
          <img ng-src="{{friend.photo}}" /><a ng-href='#profile/{{friend.id}}'>{{friend.name}}</a>
        </div>
      </div>
      <div class="favorite-hospital">
        <h4>Favorite Hospitals</h4>
        <a class="hospital" ng-href="#hospital/profile/{{hospital.model.id}} | limitTo:5" ng-repeat="hospital in ProfileCtrl.hospitals">{{hospital.model.name}}</a>
      </div>
    </div>
  </div>
</div>
